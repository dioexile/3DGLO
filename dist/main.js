(()=>{"use strict";const e=e=>{const t=document.getElementById(e);try{t&&t.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=t.querySelectorAll("input"),r=new FormData(t),o={};r.forEach(((e,t)=>{o[t]=e})),(e=>{let t=!0;return e.querySelectorAll("input").forEach((e=>{"text"==e.getAttribute("type")?/[^а-я\s]+/i.test(e.value)||e.value.length<2?(t=!1,e.classList.add("error"),e.value="",e.placeholder="Мин. 2 символа,кириллица и пробелы",e.addEventListener("focus",(()=>{e.classList.remove("error"),e.placeholder="Имя"}))):(e.classList.remove("error"),e.placeholder="Имя"):"tel"==e.getAttribute("type")?/[^\d\+]+/i.test(e.value)||e.value.length<11?(t=!1,e.classList.add("error"),e.value="",e.placeholder="Мин. 11 сим.,только цифры и знак +",e.addEventListener("focus",(()=>{e.classList.remove("error"),e.placeholder="Номер телефона"}))):(e.classList.remove("error"),e.placeholder="Номер телефона"):"user_message"==e.getAttribute("name")?/[^а-я\s\d\.\,]+/i.test(e.value)?(t=!1,e.classList.add("error"),e.value="",e.placeholder="Только кириллица,пробелы,цифры и знаки препинания",e.addEventListener("focus",(()=>{e.classList.remove("error"),e.placeholder="Ваше сообщение"}))):(e.classList.remove("error"),e.placeholder="Ваше сообщение"):"email"==e.getAttribute("type")&&(/[a-z\d]+@[a-z]+\.[a-z]/i.test(e.value)?(e.classList.remove("error"),e.placeholder="E-mail"):(t=!1,e.classList.add("error"),e.value="",e.placeholder="Образец - exam@exam.exam",e.addEventListener("focus",(()=>{e.classList.remove("error"),e.placeholder="E-mail"}))))})),t})(t)?(({url:e,method:t,headers:r,file:o})=>fetch(e,{method:t,headers:r,body:o}))({url:"https://jsonplaceholder.typicode.com/posts",method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},file:JSON.stringify(o)}).then((async e=>{const t=await e.json();console.log(t)})).then((()=>{e.forEach((e=>{e.value=""}))})).then((()=>{let e=t.querySelector(".form-message");e.innerHTML="Данные успешно отправлены.",e.classList.add("success")})).then((()=>{t!==document.getElementById("form3")?setTimeout((()=>{t.querySelector(".form-message").remove()}),3e3):setTimeout((()=>{document.querySelector(".popup").style.display="none",t.querySelector(".form-message").remove()}),3e3)})).catch((e=>{console.log(e.message)})):t.querySelector(".form-message")?t.querySelector(".form-message").textContent="данные формы заполненны не верно":createDivMessage("div","message","form-message")})()}))}catch(e){console.log(e.message)}};(e=>{const t=document.getElementById("timer-hours"),r=document.getElementById("timer-minutes"),o=document.getElementById("timer-seconds"),l=e=>{let l=(e=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3;return{day:Math.floor(t/60/60/24),hours:Math.floor(t/60/60%24),minutes:Math.floor(t/60%60),seconds:Math.floor(t%60),timeRemaining:t}})(e),s=document.querySelector(".timer-days");l.timeRemaining>0?(s.textContent=l.day+" :",t.textContent=l.hours,r.textContent=l.minutes,o.textContent=l.seconds,document.querySelectorAll(".number").forEach((e=>{e.textContent<10&&(e.textContent="0"+e.textContent)}))):l.timeRemaining<0&&(s.textContent="0 :",t.textContent="00",r.textContent="00",o.textContent="00")};(e=>{let t=e.cloneNode(!0);t.textContent=t.textContent,t.classList.add("timer-days"),document.querySelector(".timer-numbers").prepend(t)})(t),l(e),setInterval(l,1e3,e)})("30 november 2021"),(()=>{const e=document.querySelector(".menu"),t=document.querySelector("menu"),r=document.querySelector(".close-btn"),o=t.querySelectorAll("ul>li>a"),l=()=>{t.classList.toggle("active-menu")};e.addEventListener("click",l),r.addEventListener("click",l),o.forEach((e=>{e.addEventListener("click",l)}))})(),((e=100)=>{const t=document.querySelector(".calc-block"),r=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),l=document.querySelector(".calc-count"),s=document.querySelector(".calc-day"),c=document.querySelector(".calc-total>span");let a,n;t.addEventListener("change",(t=>{t.target!==r&&t.target!==o&&t.target!==l&&t.target!==s||((()=>{let t,c,n=1,d=1;e=3===r.selectedIndex?110:2===r.selectedIndex?120:100,t=+r.options[r.selectedIndex].value,c=o.value,d=""===s.value?1:s.value<5?2:s.value<10?1.5:1,n+=l.value/10,o.value&&t&&(a=e*t*c*d*n)})(),clearInterval(n),a&&""!==o.value&&""!==r.value?((e,t,r,o,l)=>{const s=Math.round(500/(+e/100));n=setInterval((()=>{o+=100,l.textContent=o,o==e&&clearInterval(n)}),s)})(a,0,0,0,c):c.textContent=0)}))})(),(()=>{const e=document.querySelectorAll(".service-tab"),t=document.querySelector(".service-header"),r=document.querySelectorAll(".service-header-tab");t.addEventListener("click",(t=>{if(t.target.closest(".service-header-tab")){const o=t.target.closest(".service-header-tab");r.forEach(((t,r)=>{t===o?(t.classList.add("active"),e[r].classList.remove("d-none")):(t.classList.remove("active"),e[r].classList.add("d-none"))}))}}))})(),(()=>{const e=document.querySelectorAll(".popup-btn"),t=document.querySelector(".popup"),r=document.querySelector(".popup-close");e.forEach((e=>{e.addEventListener("click",(()=>{t.style.display="block"}))})),r.addEventListener("click",(()=>{t.style.display="none"})),t.addEventListener("click",(e=>{e.target.closest(".popup-content")||(t.style.display="none")}))})(),function({ulSlides:e,ulDots:t,dots:r,slides:o,arrows:l,arrowLeft:s,arrowRight:c,slideActive:a="slide-active",dotActive:n="active-dot"}){const d=document.querySelector(`.${e}`),i=document.querySelector(`.${t}`);let u,m=0,v=!1;const h=e=>{for(let t in e[0])if(null===document.querySelector(`.${e[0][t]}`))return void(v=!0)},p=()=>document.querySelectorAll(`.${r}`),y=()=>document.querySelectorAll(`.${o}`),g=(e,t)=>{for(let o=0;o<t;o++){const t=document.createElement("li");t.classList.add(r),0===o&&t.classList.add(n),e.append(t)}},f=(e,t,r)=>{e()[t].classList.remove(r)},L=(e,t,r)=>{e()[t].classList.add(r)},S=()=>{f(y,m,a),f(p,m,n),m++,m>=y().length&&(m=0),L(y,m,a),L(p,m,n)},q=(e,t=1500)=>{u=setInterval(e,t)};g(i,y().length),h(arguments),v||(q(S,2e3),d.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(`.${r}, .${l}`)&&(f(y,m,a),f(p,m,n),e.target.matches(`.${c}`)?(m++,m>=y().length&&(m=0)):e.target.matches(`.${s}`)?(m--,m<0&&(m=y().length-1)):e.target.matches(`.${r}`)&&p().forEach(((t,r)=>{e.target===t&&(m=r)})),L(y,m,a),L(p,m,n))})),d.addEventListener("mouseleave",(e=>{(e.target.matches(`.${l}`)||e.target.matches(`.${r}`))&&q(S,2e3)}),!0),d.addEventListener("mouseenter",(e=>{(e.target.matches(`.${l}`)||e.target.matches(`.${r}`))&&clearInterval(u)}),!0))}({ulSlides:"portfolio-content",ulDots:"portfolio-dots",dots:"dot",slides:"portfolio-item",arrows:"portfolio-btn",arrowLeft:"prev",arrowRight:"next",slideActive:"portfolio-item-active",dotActive:"dot-active"}),e("form1"),e("form2"),e("form3"),document.querySelectorAll(".calc-block>input").forEach((e=>{e.setAttribute("type","number"),e.addEventListener("input",(()=>{e.value=e.value.replace(/\D/g,"")}))}))})();
